<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Trove log! Function Test</title>

  <script src="https://cdn.jsdelivr.net/npm/scittle@0.7.28/dist/scittle.js"
          type="application/javascript"></script>

  <!-- Load Trove source files -->
  <script src="src/taoensso/trove/utils.cljc" type="application/x-scittle"></script>
  <script src="src/taoensso/trove/console.cljc" type="application/x-scittle"></script>
  <script src="src/taoensso/trove.cljc" type="application/x-scittle"></script>

  <style>
    body { font-family: monospace; margin: 20px; }
  </style>
</head>
<body>
  <h1>ğŸ§ª Is There a Function Version of log!?</h1>

  <script type="application/x-scittle">
    (println "\n" (apply str (repeat 70 "=")))
    (println "QUESTION: Is there a function version of the log! macro?")
    (println (apply str (repeat 70 "=")))
    
    ;; Test 1: What's exported from taoensso.trove?
    (println "\nğŸ”µ Test 1: What's in taoensso.trove namespace?")
    (require '[taoensso.trove :as trove])
    (let [ns-map (ns-publics 'taoensso.trove)]
      (println (str "Public symbols: " (keys ns-map)))
      (doseq [[name var] ns-map]
        (let [meta (meta var)]
          (println (str "  - " name " (macro: " (:macro meta) ")")))))
    
    ;; Test 2: Is there a log function?
    (println "\nğŸ”µ Test 2: Try to find a log function")
    (try
      (let [log-var (resolve 'taoensso.trove/log)]
        (if log-var
          (println (str "âœ… Found: " log-var))
          (println "âŒ Not found: taoensso.trove/log")))
      (catch :default e
        (println (str "âŒ Error: " (ex-message e)))))
    
    ;; Test 3: What about other variations?
    (println "\nğŸ”µ Test 3: Try other variations")
    (doseq [name ['log 'log-fn 'log! 'logf 'log-form]]
      (try
        (let [var (resolve (symbol "taoensso.trove" (str name)))]
          (if var
            (println (str "âœ… Found: " name))
            (println (str "âŒ Not found: " name))))
        (catch :default e
          (println (str "âŒ Error checking " name)))))
    
    ;; Test 4: Check console namespace
    (println "\nğŸ”µ Test 4: What's in taoensso.trove.console?")
    (require '[taoensso.trove.console :as console])
    (let [ns-map (ns-publics 'taoensso.trove.console)]
      (println (str "Public symbols: " (keys ns-map)))
      (doseq [[name var] ns-map]
        (let [meta (meta var)]
          (println (str "  - " name " (macro: " (:macro meta) ")")))))
    
    ;; Test 5: Check utils namespace
    (println "\nğŸ”µ Test 5: What's in taoensso.trove.utils?")
    (require '[taoensso.trove.utils :as utils])
    (let [ns-map (ns-publics 'taoensso.trove.utils)]
      (println (str "Public symbols: " (keys ns-map)))
      (doseq [[name var] ns-map]
        (let [meta (meta var)]
          (println (str "  - " name " (macro: " (:macro meta) ")")))))
    
    (println "\n" (apply str (repeat 70 "=")))
    (println "CONCLUSION")
    (println (apply str (repeat 70 "=")))
    (println "\nâ“ Is there a function version of log!?")
    (println "   Looking at the exported symbols above...")
  </script>
</body>
</html>
